const {readFile} = require('fs')
const {promisify} = require('util')
const read = promisify(readFile)
const {join} = require('path')

function readInput (dir, {split = true, char = '\n', pop = true, test = false} = {}) {
  const file = join(dir, test ? 'test.txt' : 'input.txt');
  return read(file, {encoding: 'utf8'})
    .then(input => {
      if (!split) return input
      const data  = input.split(char)
      // if (pop) data.pop()
      return data
    })
}

module.exports = {
  readInput
}